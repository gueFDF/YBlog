## 前中后序遍历&&前中后缀表达式的转换

###### *今天写数据结构作业的时候被一道后缀转中缀的题卡住了，于是发现了这个知识漏洞，现补上。*



> #### 前序遍历
>
> ![](https://github.com/yanyanran/pictures/blob/main/%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86.png?raw=true)
>
> #### 中序遍历
>
> ![](https://github.com/yanyanran/pictures/blob/main/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.png?raw=true)
>
> #### 后序遍历
>
> ![](https://github.com/yanyanran/pictures/blob/main/%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.png?raw=true)
>
> #### 层次遍历
>
> ![](https://github.com/yanyanran/pictures/blob/main/%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.png?raw=true)

------



例->设现有A：

> **A的中缀表达式 1 + (( 2 + 3) * 4 ) – 5**
>
> **A的前缀表达式 - + 1 * + 2 3 4 5**
>
> **A的后缀表达式 12 3 + 4 * + 5 –**



#### 1、中缀转后缀

- ##### 直接转换（辅助栈）

直接转换就是将中缀表达式按照计算优先级分块，数字在前符号在后：

> ​       **1）( 2 + 3) => 23+**
>
> ​       **2)   (( 2 + 3)* 4 ) => 23+4***
>
> ​       **3) （1 + (( 2 + 3)* 4 )）=> 123+4*+   [按运算次序，从左到右排]**
>
> ​       **4）（（1 + (( 2 + 3)* 4 )） – 5 ）=> 123+4*+ 5-**

得出后缀表达式为：**12 3 + 4 * + 5 –**

- ##### 利用表达式树

操作方法为先将中缀转换为表达式树，然后后序遍历该树。

将中缀转为表达式树的方法：树的树叶是数字，结点是操作符。根结点为优先级**最低且靠右**的的操作符（圆括号不包括）

![](https://github.com/yanyanran/pictures/blob/main/%E5%89%8D%E4%B8%AD%E5%90%8E%E7%BC%801.png?raw=true)

#### 2、中缀转前缀

还是构建表达式树然后**前序遍历**该树即可（例子的树还是上图），结果为：**- + 1 * + 2 3 4 5**



---------------------------------------------------------------- *我 是 分 割 线* -----------------------------------------------------------------------



#### 3、后缀转中缀

直接使用表达式树来转换，*从左到右（**顺向**）*扫描后缀表达式，一次一个符号读入表达式。

- 如果符号是***操作数***，就建一个单节点树并将它推入栈中；
- 如果符号是***操作符***，就从栈中弹出两个树T1和T2（T1先弹出）并形成一颗新的树，该树的根就是操作符，左、右孩子分别是T2和T1。

过程如下图五步走：

![](https://github.com/yanyanran/pictures/blob/main/%E5%89%8D%E4%B8%AD%E5%90%8E%E7%BC%80sum.png?raw=true)

得到树后对树进行**中序遍历**所得表达式即为我们要的中缀表达式：1+（（2+3）*4）-5

#### 4、前缀转中缀

 **辅助栈**，*从右到左（**反向**）*扫描前缀表达式。

> - **遇到操作数，入栈；**
>
> - **遇到操作符，将栈顶元素弹出并和操作符结合写成表达式**

![](https://github.com/yanyanran/pictures/blob/main/%E5%89%8D%E7%BC%80%E8%BD%AC%E4%B8%AD%E7%BC%80.png?raw=true)

要注意的是第五、六步 ==>

5：因为1比234后扫描到，所以要放前面

6：因为5是最先扫描到的，所以要放后面